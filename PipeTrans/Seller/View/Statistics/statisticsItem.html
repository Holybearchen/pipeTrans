<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>index</title>
	<!-- 新 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/Lib/bootstrap-3.3.7/dist/css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/Css/Seller/head.css" />
	<link rel="stylesheet" type="text/css" href="__PUBLIC__/Css/Seller/foot.css" />
    <link rel="stylesheet" type="text/css" href="__PUBLIC__/Css/Seller/my_content.css" />
	<script type="text/javascript" src="__PUBLIC__/Lib/jquery-1.11.2.js"></script>
	<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
	<script type="text/javascript" src="__PUBLIC__/Lib/bootstrap-3.3.7/dist/js/bootstrap.min.js"></script>

    <script>  
        //绘制饼图  
        function drawCircle(canvasId, data_arr, color_arr, text_arr)  
        {  
            var c = document.getElementById(canvasId);  
            var ctx = c.getContext("2d");  
  
            var radius = c.height / 2 - 20; //半径  
            var ox = radius + 20, oy = radius + 20; //圆心  
  
            var width = 30, height = 10; //图例宽和高  
            var posX = ox * 2 + 20, posY = 30;   //  
            var textX = posX + width + 5, textY = posY + 10;  
  
            var startAngle = 0; //起始弧度  
            var endAngle = 0;   //结束弧度  
            for (var i = 0; i < data_arr.length; i++)  
            {  
                //绘制饼图  
                endAngle = endAngle + data_arr[i] * Math.PI * 2; //结束弧度  
                ctx.fillStyle = color_arr[i];  
                ctx.beginPath();  
                ctx.moveTo(ox, oy); //移动到到圆心  
                ctx.arc(ox, oy, radius, startAngle, endAngle, false);  
                ctx.closePath();  
                ctx.fill();  
                startAngle = endAngle; //设置起始弧度  
  
                //绘制比例图及文字  
                ctx.fillStyle = color_arr[i];  
                ctx.fillRect(posX, posY + 20 * i, width, height);  
                ctx.moveTo(posX, posY + 20 * i);  
                ctx.font = 'bold 12px 微软雅黑';    //斜体 30像素 微软雅黑字体  
                ctx.fillStyle = color_arr[i]; //"#000000";  
                var percent = text_arr[i] + "：" + 100 * data_arr[i] + "%";  
                ctx.fillText(percent, textX, textY + 20 * i);  
            }  
        }  
  
        function init() {  
            //绘制饼图  
            //比例数据和颜色  
            var data_arr = [0.05, 0.25, 0.6, 0.1];  
            var color_arr = ["#00FF21", "#FFAA00", "#00AABB", "#FF4400"];  
            var text_arr = ["第一季度", "第二季度", "第三季度", "第四季度"];  

            drawCircle("canvas_circle", data_arr, color_arr, text_arr);  
        }  
  
        //页面加载时执行init()函数  
        window.onload = init;  
    </script>  
</head>
<body>

<nav class="navbar navbar-default navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="<{:U('Contract/contractIndex')}>">Pipe</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li><a href="<{:U('Item/itemIndex')}>">商品管理</a></li>
                <!-- <li><a href="<{:U('Contract/contractIndex')}>">合同中心</a></li> -->
                <li><a href="<{:U('Order/index')}>">订单中心</a></li>
                <li class="dropdown active">
                    <a href="<{:U('Statistics/statisticsIndex')}>" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">信息统计 <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a href="<{:U('Statistics/statisticsIndex')}>">年度统计</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="<{:U('Statistics/statisticsItem')}>">阶段统计</a></li>
                    </ul>
                </li>

                <li><a href="<{:U('Complain/complainIndex')}>">投诉处理</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a href="<{:U('Info/companyInfo')}>">欢迎您, <{$Think.session.username}></a></li>
                <li><a href="<{:U('User/doLogout')}>">退出</a></li>
            </ul>
        </div><!-- /.navbar-collapse -->
    </div><!-- /.container-fluid -->
</nav>

<div class="my_content">
    <div class="row">
        <form class="navbar-form navbar-right" role="search" action="__URL__/statisticsIndex" method="post">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="请输入起始日期(如：<{$year}>)" name="startdate">
                &nbsp&nbsp
                <input type="text" class="form-control" placeholder="请输入终止日期(如：<{$year}>)" name="enddate">
            </div>
            &nbsp&nbsp&nbsp&nbsp
            <button type="submit" class="btn btn-default">搜索</button>
            &nbsp&nbsp&nbsp&nbsp
        </form>
    </div>
    <div class="panel panel-info">
        <div class="panel-heading text-center">
            <h3 class="panel-title"><{$year}> 年信息统计</h3>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-9">
                    <input type="text" class="form-control" id="rst1" value="<{$rst1}>" style="display: none;">
                    <input type="text" class="form-control" id="rst2" value="<{$rst2}>" style="display: none;">
                    <input type="text" class="form-control" id="rst3" value="<{$rst3}>" style="display: none;">
                    <input type="text" class="form-control" id="rst4" value="<{$rst4}>" style="display: none;">
                    <input type="text" class="form-control" id="rst5" value="<{$rst5}>" style="display: none;">
                    <input type="text" class="form-control" id="rst6" value="<{$rst6}>" style="display: none;">
                    <input type="text" class="form-control" id="rst7" value="<{$rst7}>" style="display: none;">
                    <input type="text" class="form-control" id="rst8" value="<{$rst8}>" style="display: none;">
                    <input type="text" class="form-control" id="rst9" value="<{$rst9}>" style="display: none;">
                    <input type="text" class="form-control" id="rst10" value="<{$rst10}>" style="display: none;">
                    <input type="text" class="form-control" id="rst11" value="<{$rst11}>" style="display: none;">
                    <input type="text" class="form-control" id="rst12" value="<{$rst12}>" style="display: none;">
                    <canvas id="canvas_circle" width="500" height="300"></canvas> 
                </div>
            </div>
        </div>
    </div>
      
</div>

<nav class="navbar navbar-fixed-bottom navbar-inverse" role="navigation">
    <div class="foot">
        2017 &nbsp Pipe
    </div>
</nav>

</body>
</html>